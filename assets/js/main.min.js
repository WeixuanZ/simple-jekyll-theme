/*2020 W Zhang*/window.addEventListener("storage",function(a){"preference-theme"===a.key&&("light"===a.newValue?e("light",!0,!1):"dark"===a.newValue&&e("dark",!0,!1))});window.matchMedia("(prefers-color-scheme: dark)").addListener(function(a){!0!==a.matches?e("light"):e("dark")});document.querySelector("#dark-toggle-box").addEventListener("change",function(){this.checked?e("dark",!0,!0,!0):e("light",!0,!0,!0)});f();var h;var k=localStorage.getItem("preference-theme");h="light"===k?"light":"dark"===k?"dark":void 0;
e(h||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),!1);function l(){return document.querySelector("#dark-toggle-box").checked?"dark":"light"}function m(a){document.querySelector("#dark-toggle-box").checked="dark"===a}
function e(a,b,c,d){b=void 0===b?!0:b;c=void 0===c?!0:c;d=void 0===d?!1:d;var n=document.documentElement,g=p();"dark"!==l()&&!d||"light"!==a?"light"!==l()&&!d||"dark"!==a||(b&&q(g),n.classList.add("theme-dark"),navbar.style.background="#121212",m("dark"),b&&setTimeout(function(){q(g,!1)},1E3)):(b&&q(g),n.classList.remove("theme-dark"),navbar.style.background="#fff",m("light"),b&&setTimeout(function(){q(g,!1)},1E3));c&&localStorage.setItem("preference-theme",a)}
function q(a,b){b=void 0===b?1:b;a.map(function(c){b?c.classList.add("theme-transit"):c.classList.remove("theme-transit")})}function p(){return["body","#navbar","#main-header"].map(function(a){return document.querySelector(a)})}
function f(){var a=document.querySelector("#dark-toggle-label");window.addEventListener("scroll",function(){this.scrollY>=nav_init?(a.classList.add("hidden"),"dark"===l()&&(navbar.style.background="#22222280")):(a.classList.remove("hidden"),"dark"===l()&&(navbar.style.background="#121212"))})}function r(a,b){var c=void 0===c?150:c;a.classList.add("hidden");setTimeout(function(){b&&(a.innerHTML=b);a.classList.remove("hidden")},c)}
(function(){var a=document.querySelector("#copyleft"),b=!1;if(location.href.includes("about"))a.innerHTML='<a href="/license">License and Privacy Notice</a>';else if(!location.href.includes("license")){var c=document.querySelector("#main-footer");c.addEventListener("mouseover",function(){b||(r(a,'<a href="/license">License and Privacy Notice</a>'),b=!0)});c.addEventListener("mouseleave",function(){r(a,'Copyleft <span style="display: inline-block; transform: rotate(180deg);">&copy;</span> 2020 W Zhang');
b=!1})}})();var t=document.querySelectorAll("div.highlighter-rouge");t.forEach(function(a,b){var c="codeblock"+(b+1);a.querySelector("code").setAttribute("id",c);var d=document.createElement("button");d.innerHTML='<i class="fas fa-clone"></i>';d.className="code-copy-btn";d.setAttribute("data-clipboard-target","#"+c);a.querySelector("code").after(d)});0<t.length&&new ClipboardJS(".code-copy-btn");